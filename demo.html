<html>
<head>
  <meta charset="utf-8">
  <title>SideComments.js Demo</title>
  <link rel="stylesheet" href="build/build.css" />
  <link rel="stylesheet" href="test/support/basics.css" />
  <link rel="stylesheet" href="test/vendor/mocha.css" />
</head>
<body>  
  <div id="commentable-container" class="container commentable-container">
    <h1 class="title">
      SideComments.js In Action
    </h1>
    <p data-section-id="1" class="commentable-section">
      Each paragraph tag has the "commentable-section" class, making it a section which can be commented on after you've initialized a new SideComments object and pointed it at the parent element, which is "#commentable-container" for this demo.
    </p>
    <p data-section-id="2" class="commentable-section">
      Clicking on the markers on the right will show the SideComments. Sections without any comments only show their marker on hover.
    </p>
    <p data-section-id="3" class="commentable-section">
      This is the default theme that comes with SideComments.js. You can easily theme SideComments to your liking by not including "default-theme.css" and just styling it all yourself.
    </p>
  </div>
  <script src="test/vendor/jquery.js"></script>
  <script src="build/build.js"></script>
  <script>
    $(document).ready(function(){
      var existingComments = [
        {
          "sectionId": "1",
          "comments": [
            {
              "authorAvatarUrl": "http://f.cl.ly/items/1W303Y360b260u3v1P0T/jon_snow_small.png",
              "authorName": "Jon Sno",
              "comment": "I'm Ned Stark's bastard. Related: I know nothing."
            },
            {
              "authorAvatarUrl": "http://f.cl.ly/items/2o1a3d2f051L0V0q1p19/donald_draper.png",
              "authorName": "Donald Draper",
              "comment": "I need a scotch."
            }
          ]
        },
        {
          "sectionId": "3",
          "comments": [
            {
              "authorAvatarUrl": "http://f.cl.ly/items/0l1j230k080S0N1P0M3e/clay-davis.png",
              "authorName": "Senator Clay Davis",
              "comment": "These Side Comments are incredible. Sssshhhiiiiieeeee."
            }
          ]
        }
      ];
      window.currentUser = {
        "id": 1,
        "avatarUrl": "test/support/user1.png",
        "name": "You!"
      };
      var SideComments = require('side-comments');
      window.sideComments = new SideComments('#commentable-container', currentUser, existingComments);
      window.sideComments.on('commentPosted', function( comment ) {
        comment.id = parseInt(Math.random() * (100000 - 1) + 1);
        sideComments.insertComment(comment);
      });
    });
  </script>
</body>
</html>