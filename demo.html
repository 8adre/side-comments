<html>
<head>
  <meta charset="utf-8">
  <title>SideComments.js Demo</title>
  <link rel="stylesheet" href="build/build.css" />
  <link rel="stylesheet" href="test/support/basics.css" />
  <link rel="stylesheet" href="test/vendor/mocha.css" />
</head>
<body>  
  <div id="commentable-container" class="container">
    <h1>
      SideComments.js In Action
    </h1>
    <p data-section-id="1" class="commentable-section">
      Maecenas sed diam eget risus varius blandit sit amet non magna. Curabitur blandit tempus porttitor. Integer posuere erat a ante venenatis dapibus posuere velit aliquet. Maecenas sed diam eget risus varius blandit sit amet non magna. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Cum sociis natoque penatibus et magnis dis parturient montes.
    </p>
    <p data-section-id="2" class="commentable-section">
      Curabitur blandit tempus porttitor. Integer posuere erat a ante venenatis dapibus posuere velit aliquet. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Donec sed odio dui. Nulla vitae elit libero, a pharetra augue.
    </p>
    <p data-section-id="3" class="commentable-section">
      Aenean eu leo quam. Pellentesque ornare sem lacinia quam venenatis vestibulum. Duis mollis, est non commodo luctus, nisi erat porttitor ligula, eget lacinia odio sem nec elit. Vivamus sagittis lacus vel augue laoreet rutrum faucibus dolor auctor. Curabitur blandit tempus porttitor.
    </p>
  </div>
  <script src="test/vendor/jquery.js"></script>
  <script src="build/build.js"></script>
  <script>
    $(document).ready(function(){
      var existingComments = [
        {
          "sectionId": "1",
          "comments": [
            {
              "id": 88,
              "authorAvatarUrl": "test/support/user1.png",
              "authorName": "John Doe",
              "comment": "This is a fantastic comment I posted from the side.",
              "authorId": 1
            },
            {
              "id": 100,
              "authorAvatarUrl": "test/support/user2.png",
              "authorName": "Chris Carter",
              "comment": "I love comments.",
              "authorId": 2
            }
          ]
        },
        {
          "sectionId": "3",
          "comments": [
            {
              "id": 34,
              "authorAvatarUrl": "test/support/user3.png",
              "authorName": "Jim Beam",
              "comment": "I'm drunk!",
              "authorId": 3
            }
          ]
        }
      ];
      var currentUser = {
        "id": 1,
        "avatarUrl": "test/support/user1.png",
        "name": "John Doe"
      };
      var SideComments = require('side-comments');
      var sideComments = new SideComments('#commentable-container', currentUser, existingComments);
      sideComments.on('commentPosted', function( comment ) {
        comment.id = parseInt(Math.random() * (100000 - 1) + 1);
        sideComments.insertComment(comment);
      });
    });
  </script>
</body>
</html>