<html>
<head>
  <meta charset="utf-8">
  <title>SideComments.js Demo</title>
  <link rel="stylesheet" href="build/build.css" />
  <link rel="stylesheet" href="test/support/basics.css" />
  <link rel="stylesheet" href="test/vendor/mocha.css" />
</head>
<body>  
  <div id="commentable-container" class="container">
    <h1 class="title">
      SideComments.js In Action
    </h1>
    <p data-section-id="1" class="commentable-section">
      Each paragraph tag has the "commentable-section" class, making it a section which can be commented on after you've initialized a new SideComments object and pointed it at the parent element, which is "#commentable-container" for this demo.
    </p>
    <p data-section-id="2" class="commentable-section">
      Clicking on the markers on the right will show the SideComments. Sections without any comments only show their marker on hover.
    </p>
    <p data-section-id="3" class="commentable-section">
      This is the default theme that comes with SideComments.js. You can easily theme SideComments to your liking by not including "default-theme.css" and just styling it all yourself.
    </p>
  </div>
  <script src="test/vendor/jquery.js"></script>
  <script src="build/build.js"></script>
  <script>
    $(document).ready(function(){
      var existingComments = [
        {
          "sectionId": "1",
          "comments": [
            {
              "id": 88,
              "authorAvatarUrl": "test/support/user1.png",
              "authorName": "John Doe",
              "comment": "This is a fantastic comment I posted from the side.",
              "authorId": 1
            },
            {
              "id": 100,
              "authorAvatarUrl": "test/support/user2.png",
              "authorName": "Chris Carter",
              "comment": "I love comments.",
              "authorId": 2
            }
          ]
        },
        {
          "sectionId": "3",
          "comments": [
            {
              "id": 34,
              "authorAvatarUrl": "test/support/user3.png",
              "authorName": "Jim Beam",
              "comment": "I'm drunk!",
              "authorId": 3
            }
          ]
        }
      ];
      window.currentUser = {
        "id": 1,
        "avatarUrl": "test/support/user1.png",
        "name": "John Doe"
      };
      var SideComments = require('side-comments');
      window.sideComments = new SideComments('#commentable-container', currentUser, existingComments);
      window.sideComments.on('commentPosted', function( comment ) {
        comment.id = parseInt(Math.random() * (100000 - 1) + 1);
        sideComments.insertComment(comment);
      });
    });
  </script>
</body>
</html>